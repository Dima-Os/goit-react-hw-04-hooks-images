(this["webpackJsonpreact-hw-template"]=this["webpackJsonpreact-hw-template"]||[]).push([[0],{10:function(e,t,n){e.exports={overlay:"Modal_overlay__15DsK",modal:"Modal_modal__3CQgG"}},12:function(e,t,n){e.exports={App:"App_App__1Xw-9"}},13:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__1Hv06"}},15:function(e,t,n){e.exports={loader:"Loader_loader__FyAsC"}},16:function(e,t,n){e.exports={button:"Button_button__37WIs"}},4:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__MiEe-",form:"Searchbar_form__VWD8I",button:"Searchbar_button__2Am7o",label:"Searchbar_label__35Itk",input:"Searchbar_input__1KBYH"}},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),o=n(6),s=n.n(o),i=n(11),l=n(3),u=n(12),b=n.n(u),j=n(13),m=n.n(j),f=function(e){var t=e.children;return Object(a.jsx)("ul",{className:m.a.gallery,children:t})},d=n(9),h=n.n(d),O=function(e){var t=e.webformatURL,n=e.largeImageURL,c=e.onCLick;return Object(a.jsx)("li",{className:h.a.item,onClick:function(){c(n)},children:Object(a.jsx)("img",{src:t,alt:"",className:h.a.itemImage})})},p=n(10),_=n.n(p),g=document.querySelector("#modal-root");function x(e){var t=e.URL,n=e.togleModal;Object(c.useEffect)((function(){return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&n()};return Object(o.createPortal)(Object(a.jsx)("div",{className:_.a.overlay,onClick:function(e){e.target===e.currentTarget&&n()},children:Object(a.jsx)("div",{className:_.a.modal,children:Object(a.jsx)("img",{src:t,alt:""})})}),g)}var v=n(4),y=n.n(v);function S(e){var t=e.onSubmitHandler,n=Object(c.useState)(""),r=Object(l.a)(n,2),o=r[0],s=r[1];return Object(a.jsx)("header",{className:y.a.searchbar,children:Object(a.jsxs)("form",{className:y.a.form,onSubmit:function(e){e.preventDefault(),t(o),s("")},children:[Object(a.jsx)("button",{type:"submit",className:y.a.button,children:Object(a.jsx)("span",{className:y.a.label,children:"Search"})}),Object(a.jsx)("input",{className:y.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){s(e.currentTarget.value)}})]})})}var I={getImages:function(e,t){return fetch("".concat("https://pixabay.com/api/","?").concat("key=18695501-5acbf60d27f3b96795a230f12","&q=").concat(e,"&page=").concat(t,"&per_page=4")).then((function(t){if(t.ok)return t.json();throw new Error("\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(e," \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"))}))}},w=n(14),k=n.n(w),L=(n(42),n(15)),N=n.n(L),C=function(){return Object(a.jsxs)("div",{className:N.a.loader,children:[Object(a.jsx)(k.a,{type:"Puff",color:"#00BFFF",height:100,width:100}),"Loading ..."]})},E=n(16),R=n.n(E),U=function(e){var t=e.onClickHandler;return Object(a.jsx)("button",{type:"button",onClick:t,className:R.a.button,children:"Load more"})};function H(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)([]),s=Object(l.a)(o,2),u=s[0],j=s[1],m=Object(c.useState)(1),d=Object(l.a)(m,2),h=d[0],p=d[1],_=Object(c.useState)(null),g=Object(l.a)(_,2),v=g[0],y=g[1],w=Object(c.useState)(!1),k=Object(l.a)(w,2),L=k[0],N=k[1],E=Object(c.useState)(""),R=Object(l.a)(E,2),H=R[0],A=R[1],M=Object(c.useState)(!1),F=Object(l.a)(M,2),B=F[0],D=F[1],G=function(e){N((function(e){return!e})),A(e)};return Object(c.useEffect)((function(){if(""!==n){D(!0);I.getImages(n,h).then((function(e){var t=e.hits;if(0===e.total)throw new Error("\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(n," \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"));j((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),window.scrollTo({top:document.documentElement.offsetHeight,behavior:"smooth"})})).catch((function(e){return y(e.message)})).finally(D(!1))}}),[n,h]),Object(a.jsxs)("div",{className:b.a.App,children:[Object(a.jsx)(S,{onSubmitHandler:function(e){r(e),j(""),p(1),y(null)}}),B&&Object(a.jsx)(C,{}),v&&Object(a.jsx)("h1",{children:v}),u.length>0&&Object(a.jsx)(f,{children:u.map((function(e){return Object(a.jsx)(O,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,onCLick:G},e.id)}))}),L&&Object(a.jsx)(x,{URL:H,togleModal:function(){N((function(e){return!e}))}}),u.length>0&&Object(a.jsx)(U,{onClickHandler:function(){p((function(e){return e+1}))}})]})}n(43);s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={item:"ImageGalleryItem_item__3b-DI",itemImage:"ImageGalleryItem_itemImage__1k4is"}}},[[44,1,2]]]);
//# sourceMappingURL=main.8fc46776.chunk.js.map