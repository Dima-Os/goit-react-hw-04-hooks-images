{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","services/imageFinderAPI.js","components/Loader/Loader.jsx","components/Button/Button.jsx","App.jsx","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","ImageGallery","children","className","s","gallery","ImageGalleryItem","webformatURL","largeImageURL","onCLick","item","onClick","src","alt","itemImage","modalRoot","document","querySelector","Modal","URL","togleModal","useEffect","addEventListener","closeModal","removeEventListener","e","code","createPortal","overlay","target","currentTarget","modal","Searchbar","onSubmitHandler","useState","userInput","setUserInput","searchbar","form","onSubmit","preventDefault","type","button","label","input","autoComplete","autoFocus","placeholder","value","onChange","imageFinderAPI","getImages","query","page","fetch","then","response","ok","json","Error","PuffLoader","loader","color","height","width","Button","onClickHandler","App","userQuery","setUserQuery","images","setImages","currentPage","setCurrentPage","error","setError","showModal","setShowModal","setLargeImageURL","isLoading","setIsLoading","onClickImage","prevState","hits","total","prevImg","window","scrollTo","top","documentElement","offsetHeight","behavior","catch","message","finally","length","map","image","id","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8fc46776.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__15DsK\",\"modal\":\"Modal_modal__3CQgG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1Xw-9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1Hv06\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__FyAsC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__37WIs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__MiEe-\",\"form\":\"Searchbar_form__VWD8I\",\"button\":\"Searchbar_button__2Am7o\",\"label\":\"Searchbar_label__35Itk\",\"input\":\"Searchbar_input__1KBYH\"};","import s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={s.gallery}>{children}</ul>;\r\n};\r\nexport default ImageGallery;\r\n","import s from './ImageGalleryItem.module.css';\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, onCLick }) => {\r\n  return (\r\n    <li\r\n      className={s.item}\r\n      onClick={() => {\r\n        onCLick(largeImageURL);\r\n      }}\r\n    >\r\n      <img src={webformatURL} alt=\"\" className={s.itemImage} />\r\n    </li>\r\n  );\r\n};\r\nexport default ImageGalleryItem;\r\n","import { createPortal } from 'react-dom';\nimport { useEffect } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ URL, togleModal }) {\n  useEffect(() => {\n    document.addEventListener('keydown', closeModal);\n    return () => {\n      document.removeEventListener('keydown', closeModal);\n    };\n  });\n  const closeModal = e => {\n    if (e.code === 'Escape') togleModal();\n  };\n  const onBackDropClick = e => {\n    if (e.target === e.currentTarget) togleModal();\n  };\n  return createPortal(\n    <div className={s.overlay} onClick={onBackDropClick}>\n      <div className={s.modal}>\n        <img src={URL} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\nModal.propTypes = {\n  URL: PropTypes.string.isRequired,\n  togleModal: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmitHandler }) {\n  const [userInput, setUserInput] = useState('');\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    onSubmitHandler(userInput);\n    setUserInput('');\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.form} onSubmit={onFormSubmit}>\n        <button type=\"submit\" className={s.button}>\n          <span className={s.label}>Search</span>\n        </button>\n\n        <input\n          className={s.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={userInput}\n          onChange={e => {\n            setUserInput(e.currentTarget.value);\n          }}\n        />\n      </form>\n    </header>\n  );\n}\n","const APIkey = 'key=18695501-5acbf60d27f3b96795a230f12';\r\nconst baseURL = 'https://pixabay.com/api/';\r\n\r\nconst getImages = (query, page) => {\r\n  return fetch(`${baseURL}?${APIkey}&q=${query}&page=${page}&per_page=4`).then(\r\n    response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      throw new Error(`По запросу ${query} ничего не найдено!`);\r\n    },\r\n  );\r\n};\r\nconst imageFinderAPI = { getImages };\r\nexport default imageFinderAPI;\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Loader.module.css';\r\nconst PuffLoader = () => {\r\n  return (\r\n    <div className={s.loader}>\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        // timeout={3000} //3 secs\r\n      />\r\n      Loading ...\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PuffLoader;\r\n","import s from './Button.module.css';\r\n\r\nconst Button = ({ onClickHandler }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onClickHandler} className={s.button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nexport default Button;\r\n","import { useState, useEffect } from 'react';\n\nimport s from './App.module.css';\n\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport imageFinderAPI from './services/imageFinderAPI';\nimport PuffLoader from './components/Loader';\nimport Button from './components/Button';\n\nexport default function App() {\n  const [userQuery, setUserQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getUserQuery = userInput => {\n    setUserQuery(userInput);\n    setImages('');\n    setCurrentPage(1);\n    setError(null);\n  };\n  const onClickImage = largeImageURL => {\n    setShowModal(prevState => !prevState);\n    setLargeImageURL(largeImageURL);\n  };\n\n  useEffect(() => {\n    if (userQuery === '') {\n      return;\n    }\n    setIsLoading(true);\n    const fetchImages = () => {\n      imageFinderAPI\n        .getImages(userQuery, currentPage)\n        .then(({ hits, total }) => {\n          if (total === 0) {\n            throw new Error(`По запросу ${userQuery} ничего не найдено!`);\n          }\n          setImages(prevImg => [...prevImg, ...hits]);\n          window.scrollTo({\n            top: document.documentElement.offsetHeight,\n            behavior: 'smooth',\n          });\n        })\n        .catch(error => setError(error.message))\n        .finally(setIsLoading(false));\n    };\n    fetchImages();\n  }, [userQuery, currentPage]);\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmitHandler={getUserQuery} />\n      {isLoading && <PuffLoader />}\n      {error && <h1>{error}</h1>}\n      {images.length > 0 && (\n        <ImageGallery>\n          {images.map(image => (\n            <ImageGalleryItem\n              key={image.id}\n              webformatURL={image.webformatURL}\n              largeImageURL={image.largeImageURL}\n              onCLick={onClickImage}\n            />\n          ))}\n        </ImageGallery>\n      )}\n      {showModal && (\n        <Modal\n          URL={largeImageURL}\n          togleModal={() => {\n            setShowModal(prevState => !prevState);\n          }}\n        />\n      )}\n      {images.length > 0 && (\n        <Button\n          onClickHandler={() => {\n            setCurrentPage(prevPage => prevPage + 1);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './styles.css';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3b-DI\",\"itemImage\":\"ImageGalleryItem_itemImage__1k4is\"};"],"sourceRoot":""}